# å¯µç‰©å¥åº·å°å¹«æ‰‹ - é–‹ç™¼æŒ‡å¼•

## ğŸ“‹ ç›®å‰é€²åº¦ç¸½è¦½

âœ… **å·²å®Œæˆ**ï¼š

1. **health-report.html** - ä¸»é é¢èˆ‡è¡¨å–®ï¼ˆè¶£å‘³å°å·¥å…·å®šä½ã€å…è²¬è²æ˜ã€ç‹—ç‹—é«”å‹èªªæ˜èˆ‡å“ç¨®ç¯„ä¾‹ã€æ€§åˆ¥é¸é …ã€å¥åº·ç‹€æ³å¤šé¸ï¼‰
2. **health-guidelines.json** - å¥åº·æŒ‡å¼•è³‡æ–™åº«ï¼ˆç‰©ç¨®å€åˆ†å¸¸è¦‹ç–¾ç—…ã€æ€§åˆ¥å¥åº·é—œæ³¨ã€æ€§åˆ¥ç†±é‡ä¿‚æ•¸ã€é«”å‹æ„›å¿ƒç­‰ç´šèˆ‡é£¼ä¸»ç¨±è®šï¼‰
3. **health-calculator.js** - æ ¸å¿ƒè¨ˆç®—é‚è¼¯ï¼ˆRER/MER å«æ€§åˆ¥ä¿‚æ•¸ã€å¸¸è¦‹ç–¾ç—…å»ºè­°ã€æ€§åˆ¥å¥åº·é—œæ³¨ç´å…¥å¥åº·æé†’ï¼‰
4. **health-report-generator.js** - Canvas åœ–ç‰‡ç”Ÿæˆå™¨ï¼ˆ1080Ã—1440 ç›´å¼ 3:4ã€é«”å‹ 5 ç´šæ„›å¿ƒèˆ‡ç¨±è®šã€é£²é£Ÿå€é–“èˆ‡ç–¾ç—…æé†’ã€å¥åº·æé†’å«æ€§åˆ¥é—œæ³¨ã€QR é€£çµå®˜ç¶²ï¼‰
5. **health-report-ui.js** - è¡¨å–®äº’å‹•æ§åˆ¶ï¼ˆå€‰é¼ é«”é‡é è¨­å…¬å…‹ã€ç‹—ç‹—ï¼å€‰é¼ å°ˆç”¨å€å¡Šã€ä¾ç‰©ç¨®å‹•æ…‹è¼‰å…¥å¥åº·ç‹€æ³é¸é …ï¼‰

ğŸ‰ **é–‹ç™¼å®Œæˆ**ï¼šæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å…¨æ•¸å¯¦ä½œã€‚å®œåŠ ç‚ºå¯µç‰©é£¼æ–™ç”¨å“é€£é–å°ˆè³£ï¼Œæœ¬å·¥å…·ç‚ºè¶£å‘³å°å·¥å…·ï¼Œä¸èƒ½å–ä»£å°ˆæ¥­ç¸é†«ã€‚

---

## ğŸ¨ æª”æ¡ˆ 1ï¼šhealth-report-generator.js

### åŠŸèƒ½è·è²¬

è² è²¬å°‡è¨ˆç®—çµæœç¹ªè£½æˆ **1080Ã—1440**ï¼ˆç›´å¼ 3:4ï¼‰çš„ PNG åœ–ç‰‡ï¼Œä½¿ç”¨ç´” Canvas API å®Œæˆæ‰€æœ‰ç¹ªåœ–ï¼Œé©åˆç¤¾ç¾¤åˆ†äº«ã€‚

### æ ¸å¿ƒé¡åˆ¥è¨­è¨ˆ

```javascript
class PetHealthReportGenerator {
    constructor(reportData) {
        this.data = reportData;  // ä¾†è‡ª healthCalculator.generateHealthReport()
        this.canvas = document.getElementById('reportCanvas') || document.createElement('canvas');
        this.ctx = this.canvas.getContext('2d');
        this.canvas.width = 1080;
        this.canvas.height = 1080 * (4 / 3);  // 1440ï¼Œç›´å¼ 3:4
    }
}
```

### å¿…é ˆå¯¦ä½œçš„æ–¹æ³•

#### 1. ä¸»è¦ç”Ÿæˆæµç¨‹

```javascript
async generate() {
    await this.loadAssets();      // è¼‰å…¥å­—é«”ã€Logoã€åœ–ç¤º
    this.drawBackground();         // ç¹ªè£½æ¼¸å±¤èƒŒæ™¯
    this.drawHeader();             // é ‚éƒ¨ï¼šLogo + æ¨™é¡Œ
    this.drawAgeCard();            // äººé¡å¹´é½¡å¡ç‰‡
    this.drawStageCard();          // ç”Ÿå‘½éšæ®µå¡ç‰‡
    this.drawBodyConditionCard();  // é«”å‹èˆ‡æ´»å‹•åƒè€ƒï¼ˆ5 ç´šæ„›å¿ƒã€é£¼ä¸»ç¨±è®šï¼‰
    this.drawNutritionCard();      // é£²é£Ÿå»ºè­°ï¼ˆç†±é‡/ä¹¾ç³§/é£²æ°´å€é–“ã€å‹¾é¸ç–¾ç—…é£²é£Ÿæé†’ï¼‰
    this.drawHealthTipsCard();     // å¥åº·æé†’ï¼ˆæ€§åˆ¥é—œæ³¨ + ç–¾ç—… + ç”Ÿå‘½éšæ®µï¼Œè‡ªå‹•æ›è¡Œï¼‰
    await this.drawFooter();       // åº•éƒ¨ï¼šé–€å¸‚è³‡è¨Š + QR Code
    return this.canvas;
}
```

#### 2. è¼”åŠ©ç¹ªåœ–æ–¹æ³•

```javascript
// ç¹ªè£½åœ“è§’çŸ©å½¢å¡ç‰‡
drawRoundedCard(x, y, width, height, radius, fillColor) {
    this.ctx.fillStyle = fillColor;
    this.ctx.beginPath();
    this.ctx.roundRect(x, y, width, height, radius);
    this.ctx.fill();
}

// ç¹ªè£½å¸¶é™°å½±çš„æ–‡å­—
drawTextWithShadow(text, x, y, fontSize, color) {
    this.ctx.shadowColor = 'rgba(0,0,0,0.1)';
    this.ctx.shadowBlur = 4;
    this.ctx.font = `${fontSize}px "Noto Sans TC"`;
    this.ctx.fillStyle = color;
    this.ctx.fillText(text, x, y);
    this.ctx.shadowColor = 'transparent';
}

// ä¸­æ–‡è‡ªå‹•æ›è¡Œï¼ˆé‡è¦ï¼ï¼‰
drawMultilineText(text, x, y, maxWidth, lineHeight) {
    const chars = text.split('');
    let line = '';
    let currentY = y;
    
    for (let char of chars) {
        const testLine = line + char;
        const metrics = this.ctx.measureText(testLine);
        
        if (metrics.width > maxWidth && line !== '') {
            this.ctx.fillText(line, x, currentY);
            line = char;
            currentY += lineHeight;
        } else {
            line = testLine;
        }
    }
    this.ctx.fillText(line, x, currentY);
}
```

#### 3. è³‡ç”¢è¼‰å…¥

```javascript
async loadAssets() {
    // ç­‰å¾…å­—é«”è¼‰å…¥
    await document.fonts.ready;
    
    // è¼‰å…¥ Logo
    this.logo = await this.loadImage('assets/images/yichai-petshop-logo.png');
}

loadImage(src) {
    return new Promise((resolve, reject) => {
        const img = new Image();
        img.onload = () => resolve(img);
        img.onerror = reject;
        img.src = src;
    });
}
```

#### 4. QR Code æ•´åˆ

- **é€£çµ**ï¼šå ±å‘Šå…§ QR Code é€£çµè‡³å®˜ç¶²é¦–é  `https://yichai-tw.github.io/`ï¼ˆå®˜ç¶²ã€é–€å¸‚èˆ‡æ›´å¤šå¥åº·è³‡è¨Šï¼‰ï¼Œéå¥åº·å°å¹«æ‰‹é é¢ã€‚
- ä½¿ç”¨ QRCode å¥—ä»¶ç”Ÿæˆå¾Œç¹ªè£½è‡³ Canvasï¼Œå®Œæˆå¾Œç§»é™¤æš«å­˜ç¯€é»ã€‚

#### 5. åŒ¯å‡ºåŠŸèƒ½

```javascript
async toBlob() {
    return new Promise((resolve) => {
        this.canvas.toBlob(resolve, 'image/png', 0.9);
    });
}

async toDataURL() {
    return this.canvas.toDataURL('image/png', 0.9);
}
```

### ç‰ˆé¢é…ç½®å»ºè­°ï¼ˆç›´å¼ 3:4ï¼Œ1080Ã—1440ï¼‰

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 0
â”‚ ğŸ¨ æ¼¸å±¤èƒŒæ™¯ (#FFF9F0 â†’ #F0F8FF)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Logo + æ¨™é¡Œ + ç”Ÿæˆæ—¥æœŸ               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 168
â”‚ ğŸ“Š äººé¡å¹´é½¡å¡ç‰‡ (ç™½åº•åœ“è§’)           â”‚ é«˜åº¦ 152
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 320
â”‚ ğŸ“‹ ç”Ÿå‘½éšæ®µå¡ç‰‡                      â”‚ é«˜åº¦ 152
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 472
â”‚ âš–ï¸ é«”å‹èˆ‡æ´»å‹•åƒè€ƒï¼ˆ5 ç´šæ„›å¿ƒ â™¥â™¡ã€é£¼ä¸»ç¨±è®šï¼‰ â”‚ é«˜åº¦ 200
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 672
â”‚ ğŸ² é£²é£Ÿå»ºè­°ï¼ˆç†±é‡/ä¹¾ç³§/é£²æ°´å€é–“ï¼›å‹¾é¸ç–¾ç—…é£²é£Ÿæé†’ï¼›è¨»è¨˜å·²ä¾å“ç¨®/å¹´é½¡/é«”é‡/é«”å‹/æ€§åˆ¥è¨ˆç®—ï¼‰ â”‚ é«˜åº¦å‹•æ…‹ 212~268
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’Š å¥åº·æé†’ï¼ˆæ€§åˆ¥é—œæ³¨ + ç–¾ç—… + ç”Ÿå‘½éšæ®µï¼Œæœ€å¤š 4 æ¢ã€è‡ªå‹•æ›è¡Œï¼‰ â”‚ é«˜åº¦ 260
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ ~1180
â”‚ ğŸ“ é–€å¸‚è³‡è¨Š + QR Code                â”‚
â”‚ å…è²¬ï¼šä¸èƒ½å–ä»£å°ˆæ¥­ç¸é†«ï¼Œå¥åº·ç–‘æ…®è«‹è«®è©¢ç¸é†«æˆ–å„˜é€Ÿå°±é†« â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 1440
```

### è‰²å½©é…ç½®

- **èƒŒæ™¯æ¼¸å±¤**ï¼š`#FFF9F0` â†’ `#F0F8FF`
- **å¡ç‰‡åº•è‰²**ï¼š`#FFFFFF`ï¼ˆç™½è‰²ï¼‰
- **å“ç‰Œæ©™è‰²**ï¼š`#DF7621`ï¼ˆæ¨™é¡Œã€é‡é»ï¼‰
- **æ·±ç°æ–‡å­—**ï¼š`#333333`
- **æ·ºç°æ–‡å­—**ï¼š`#666666`
- **é™°å½±**ï¼š`rgba(0,0,0,0.1)`

---

## ğŸ® æª”æ¡ˆ 2ï¼šhealth-report-ui.js

### æª”æ¡ˆ 2 åŠŸèƒ½è·è²¬

è² è²¬è¡¨å–®äº’å‹•ã€æ­¥é©Ÿåˆ‡æ›ã€è³‡æ–™é©—è­‰ã€å ±å‘Šç”Ÿæˆè§¸ç™¼ã€‚

### æ ¸å¿ƒåŠŸèƒ½å¯¦ä½œ

#### 1. å…¨åŸŸè®Šæ•¸

```javascript
let selectedPetType = null;
let currentStep = 1;
let generatedReport = null;
```

#### 2. å‹•ç‰©ç¨®é¡é¸æ“‡

```javascript
function selectPetType(petType) {
    selectedPetType = petType;
    
    // æ›´æ–°æŒ‰éˆ•æ¨£å¼
    document.querySelectorAll('.pet-button').forEach(btn => {
        btn.classList.remove('selected');
    });
    document.querySelector(`[data-pet-type="${petType}"]`).classList.add('selected');
    
    // æ›´æ–°é«”é‡æç¤º
    updateWeightHint(petType);
    
    // å€‰é¼ é è¨­é«”é‡å–®ä½ç‚ºå…¬å…‹ï¼Œå…¶é¤˜ç‚ºå…¬æ–¤
    const weightUnitSelect = document.getElementById('weightUnit');
    if (weightUnitSelect) {
        weightUnitSelect.value = petType === 'hamster' ? 'g' : 'kg';
    }
    
    // é¡¯ç¤º/éš±è—ç‹—ç‹—é«”å‹ã€å€‰é¼ å“ç¨®é¸é …
    document.getElementById('dogSizeSection').style.display = 
        petType === 'dog' ? 'block' : 'none';
    document.getElementById('hamsterBreedSection').style.display = 
        petType === 'hamster' ? 'block' : 'none';
    
    // è‡ªå‹•è·³è½‰åˆ°æ­¥é©Ÿ 2ï¼ˆå«ä¾ç‰©ç¨®å‹•æ…‹è¼‰å…¥å¥åº·ç‹€æ³é¸é …ï¼‰
    setTimeout(() => goToStep2(), 500);
}
```

#### 3. æ­¥é©Ÿåˆ‡æ›

```javascript
function goToStep2() {
    document.getElementById('step1').style.display = 'none';
    document.getElementById('step2').style.display = 'block';
    
    updateHealthConditionsList();  // ä¾é¸å–å¯µç‰©é¡å‹è¼‰å…¥å°æ‡‰å¸¸è¦‹ç–¾ç—…é¸é …ï¼ˆè²“/ç‹—/å…”/å€‰é¼ å„ä¸åŒï¼‰
    updateStepIndicator(2);
}

function backToStep1() {
    document.getElementById('step2').style.display = 'none';
    document.getElementById('step1').style.display = 'block';
    
    updateStepIndicator(1);
}

function updateStepIndicator(step) {
    for (let i = 1; i <= 3; i++) {
        const indicator = document.getElementById(`step${i}Indicator`);
        indicator.classList.remove('active', 'completed');
        
        if (i < step) {
            indicator.classList.add('completed');
        } else if (i === step) {
            indicator.classList.add('active');
        }
    }
}
```

#### 4. è¡¨å–®æäº¤è™•ç†

```javascript
document.getElementById('petDataForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // é©—è­‰å¿…å¡«æ¬„ä½
    if (!validateForm()) {
        return;
    }
    
    // æ”¶é›†è¡¨å–®è³‡æ–™
    const formData = collectFormData();
    
    // é¡¯ç¤ºè¼‰å…¥å‹•ç•«
    showLoading();
    
    try {
        // ç”Ÿæˆå ±å‘Šè³‡æ–™
        const reportData = healthCalculator.generateHealthReport(formData);
        
        // ç”Ÿæˆåœ–ç‰‡
        const generator = new PetHealthReportGenerator(reportData);
        await generator.generate();
        
        generatedReport = generator;
        
        // é¡¯ç¤ºå ±å‘Š
        showReport();
        
    } catch (error) {
        console.error('ç”Ÿæˆå ±å‘Šå¤±æ•—:', error);
        alert('å ±å‘Šç”Ÿæˆå¤±æ•—ï¼Œè«‹é‡è©¦');
    } finally {
        hideLoading();
    }
});
```

#### 5. è¡¨å–®é©—è­‰

```javascript
function validateForm() {
    const ageInputType = document.querySelector('input[name="ageInputType"]:checked').value;
    
    if (ageInputType === 'birthdate') {
        const birthdate = document.getElementById('birthdate').value;
        if (!birthdate) {
            alert('è«‹é¸æ“‡å‡ºç”Ÿæ—¥æœŸ');
            return false;
        }
    } else {
        const years = document.getElementById('ageYears').value;
        const months = document.getElementById('ageMonths').value;
        if (!years && !months) {
            alert('è«‹è¼¸å…¥å¹´é½¡');
            return false;
        }
    }
    
    // ç‹—ç‹—å¿…é ˆé¸æ“‡é«”å‹ã€å€‰é¼ å¿…é ˆé¸æ“‡å“ç¨®
    if (selectedPetType === 'dog') {
        const dogSize = document.querySelector('input[name="dogSize"]:checked');
        if (!dogSize) {
            alert('è«‹é¸æ“‡ç‹—ç‹—é«”å‹');
            return false;
        }
    }
    if (selectedPetType === 'hamster') {
        const hamsterBreed = document.querySelector('input[name="hamsterBreed"]:checked');
        if (!hamsterBreed) {
            alert('è«‹é¸æ“‡å€‰é¼ å“ç¨®');
            return false;
        }
    }
    
    return true;
}
```

#### 6. åˆ†äº«èˆ‡ä¸‹è¼‰

```javascript
async function shareReport() {
    const blob = await generatedReport.toBlob();
    const file = new File([blob], 'pet-health-report.png', { type: 'image/png' });
    
    if (navigator.share && navigator.canShare({ files: [file] })) {
        try {
            await navigator.share({
                title: 'æ¯›å­©å¥åº·å°å¹«æ‰‹',
                text: 'æˆ‘å‰›ç”Ÿæˆäº†å¯µç‰©çš„å¥åº·å ±å‘Šï¼',
                files: [file]
            });
        } catch (err) {
            downloadReport();
        }
    } else {
        downloadReport();
    }
}

async function downloadReport() {
    const blob = await generatedReport.toBlob();
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `å¯µç‰©å¥åº·å ±å‘Š_${new Date().toLocaleDateString()}.png`;
    a.click();
    URL.revokeObjectURL(url);
}

function resetForm() {
    location.reload();
}
```

### è¼”åŠ©åŠŸèƒ½

```javascript
// åˆ‡æ›å¹´é½¡è¼¸å…¥æ–¹å¼
function toggleAgeInput() {
    const type = document.querySelector('input[name="ageInputType"]:checked').value;
    document.getElementById('birthdateInput').style.display = 
        type === 'birthdate' ? 'block' : 'none';
    document.getElementById('ageInput').style.display = 
        type === 'age' ? 'block' : 'none';
}

// æ›´æ–°é«”é‡æç¤º
function updateWeightHint(petType) {
    const hints = {
        cat: 'ä¸€èˆ¬æˆè²“ï¼š3-5 kg',
        dog: 'ä¾é«”å‹è€Œç•°ï¼š2-70 kg',
        rabbit: 'ä¸€èˆ¬æˆå…”ï¼š1.5-3.5 kg',
        hamster: 'å€‰é¼ ï¼š30-200 g'
    };
    document.getElementById('weightHint').textContent = hints[petType] || '';
}

// æ”¶é›†è¡¨å–®è³‡æ–™ï¼ˆå«æ€§åˆ¥ã€å¥åº·ç‹€æ³å¤šé¸ï¼‰
function collectFormData() {
    const ageInputType = document.querySelector('input[name="ageInputType"]:checked').value;
    const weight = parseFloat(document.getElementById('weight').value);
    const weightUnit = document.getElementById('weightUnit').value;
    const sex = document.querySelector('input[name="sex"]:checked')?.value || 'male';
    const healthConditions = Array.from(document.querySelectorAll('input[name="healthConditions"]:checked')).map(cb => cb.value);
    
    return {
        petType: selectedPetType,
        petName: document.getElementById('petName').value || null,
        birthdate: ageInputType === 'birthdate' ? 
            document.getElementById('birthdate').value : null,
        ageYears: ageInputType === 'age' ? 
            parseInt(document.getElementById('ageYears').value) || 0 : null,
        ageMonths: ageInputType === 'age' ? 
            parseInt(document.getElementById('ageMonths').value) || 0 : null,
        weight: weight ? (weightUnit === 'g' ? weight / 1000 : weight) : null,
        sex: sex,
        activityLevel: document.querySelector('input[name="activityLevel"]:checked')?.value || 'moderate',
        bodyShape: document.querySelector('input[name="bodyShape"]:checked')?.value || 'ideal',
        healthConditions: healthConditions,
        dogSize: selectedPetType === 'dog' ? 
            document.querySelector('input[name="dogSize"]:checked')?.value : null,
        hamsterBreed: selectedPetType === 'hamster' ?
            document.querySelector('input[name="hamsterBreed"]:checked')?.value : null
    };
}
```

---

## ğŸš€ æ•´åˆæ¸¬è©¦æª¢æŸ¥æ¸…å–®

å®Œæˆå¾Œè«‹ä¾åºæ¸¬è©¦ï¼š

1. âœ… é¸æ“‡å‹•ç‰©ç¨®é¡ â†’ è‡ªå‹•è·³è½‰æ­¥é©Ÿ 2
2. âœ… ç‹—ç‹—é¡¯ç¤ºé«”å‹é¸é …ï¼ˆå«æˆçŠ¬é«”å‹ï¼å“ç¨®èªªæ˜èˆ‡ç¯„ä¾‹ï¼‰ï¼Œå€‰é¼ é¡¯ç¤ºå“ç¨®é¸é …ï¼›é¸å€‰é¼ æ™‚é«”é‡å–®ä½é è¨­ç‚ºå…¬å…‹
3. âœ… æ€§åˆ¥é¸é …ï¼ˆå…¬ï¼æ¯ï¼‰èˆ‡å¥åº·ç‹€æ³å¤šé¸ï¼ˆä¾ç‰©ç¨®å‹•æ…‹è¼‰å…¥ï¼Œè²“/ç‹—/å…”/å€‰é¼ å„ä¸åŒå¸¸è¦‹ç–¾ç—…ï¼‰
4. âœ… åˆ‡æ›å¹´é½¡è¼¸å…¥æ–¹å¼ï¼ˆå‡ºç”Ÿæ—¥æœŸ/ç›´æ¥è¼¸å…¥ï¼‰
5. âœ… æäº¤è¡¨å–® â†’ é¡¯ç¤ºè¼‰å…¥å‹•ç•« â†’ ç”Ÿæˆå ±å‘Š
6. âœ… Canvas æ­£ç¢ºé¡¯ç¤ºï¼šäººé¡å¹´é½¡ã€ç”Ÿå‘½éšæ®µã€é«”å‹ 5 ç´šæ„›å¿ƒèˆ‡ç¨±è®šã€é£²é£Ÿå€é–“ã€å¥åº·æé†’ï¼ˆå«æ€§åˆ¥é—œæ³¨èˆ‡å‹¾é¸ç–¾ç—…ï¼‰
7. âœ… åˆ†äº«åŠŸèƒ½ï¼ˆæ‰‹æ©Ÿæ¸¬è©¦ Web Share APIï¼‰
8. âœ… ä¸‹è¼‰ PNG æª”æ¡ˆ
9. âœ… é‡æ–°æ¸¬è©¦æŒ‰éˆ•æ­£å¸¸é‹ä½œ

---

## ğŸ“Š è³‡æ–™åº«èˆ‡è¨ˆç®—é‚è¼¯ï¼ˆhealth-guidelines.json / health-calculator.jsï¼‰

### health-guidelines.json é‡é»çµæ§‹

- **common**ï¼š`activityLevelOptions`ã€`bodyShapeOptions`ã€`bodyShapeAdvice`ã€`bodyShapeLevel`ï¼ˆ1â€“5ï¼‰ã€`bodyShapePraise`ï¼ˆé£¼ä¸»ç¨±è®šï¼‰ã€`sexOptions`ã€`sexMerModifier`ï¼ˆå…¬/æ¯ç†±é‡ä¿‚æ•¸ï¼‰ã€‚
- **sexHealthFocus**ï¼šä¾ç‰©ç¨®èˆ‡æ€§åˆ¥æä¾›ä¸åŒå¥åº·é—œæ³¨ï¼ˆå¦‚å…¬è²“æ³Œå°¿é“ã€æ¯è²“ä¹³è…ºè…«ç˜¤ã€å…¬ç‹—å‰åˆ—è…ºã€æ¯ç‹—å­å®®è“„è†¿ç­‰ï¼‰ï¼Œæœƒç´å…¥å ±å‘Šå¥åº·æé†’ç¬¬ä¸€æ¢ã€‚
- **å„ç‰©ç¨®**ï¼ˆcat / dog / rabbit / hamsterï¼‰ï¼š
  - **commonConditions**ï¼šè©²ç‰©ç¨®å°ˆå±¬å¸¸è¦‹ç–¾ç—…æ¸…å–®ï¼ˆidã€labelã€dietaryNoteã€tipï¼‰ï¼Œé¿å…è²“ç‹—å…”å€‰é¼ å…±ç”¨åŒä¸€ä»½ã€‚
  - **nutritionGuidelines**ï¼šRER/MER å…¬å¼ã€æ´»å‹•èˆ‡é«”å‹ä¿‚æ•¸ã€é£²æ°´èˆ‡ç†±é‡å€é–“ï¼›çŠ¬è²“ä½¿ç”¨ `sexMerModifier` ç¶œåˆè¨ˆç®—ã€‚

### health-calculator.js é—œéµè¡Œç‚º

- **è¼‰å…¥**ï¼š`loadGuidelines()` ä½¿ç”¨ `_loadPromise` åƒ…è¼‰å…¥ä¸€æ¬¡ï¼Œé¿å… race conditionã€‚
- **ç‡Ÿé¤Š**ï¼š`calculateNutritionRanges()` ç¶œåˆå“ç¨®ã€å¹´é½¡ã€é«”é‡ã€é«”å‹ã€æ€§åˆ¥è¨ˆç®—ç†±é‡/ä¹¾ç³§/é£²æ°´å€é–“ã€‚
- **å¥åº·ç‹€æ³**ï¼š`getConditionAdvice(petType, conditionIds)` ä¾å‹¾é¸ç–¾ç—…å›å‚³é£²é£Ÿèˆ‡ç…§è­·å»ºè­°ã€‚
- **å¥åº·æé†’**ï¼šå ±å‘Šä¸­ `healthTips` é †åºç‚ºã€Œæ€§åˆ¥å¥åº·é—œæ³¨ï¼ˆè‹¥æœ‰ï¼‰ã€â†’ å‹¾é¸ç–¾ç—…å»ºè­° â†’ ç”Ÿå‘½éšæ®µæé†’ã€‚

---

## ğŸ“¦ æœ€çµ‚æª”æ¡ˆçµæ§‹

```text
ğŸ“ data
â””â”€â”€ ğŸ“‹ health-guidelines.json

ğŸ“ assets
â”œâ”€â”€ ğŸ“‚ js
â”‚   â”œâ”€â”€ ğŸŸ¨ health-calculator.js
â”‚   â”œâ”€â”€ ğŸŸ¨ health-report-generator.js
â”‚   â””â”€â”€ ğŸŸ¨ health-report-ui.js
â””â”€â”€ ğŸ“‚ images
    â””â”€â”€ ğŸ–¼ï¸ yichai-petshop-logo.png

ğŸŒ health-report.html
```

---

é–‹ç™¼å®Œæˆå¾Œï¼Œè¨˜å¾—åœ¨ `index.html` çš„å°èˆªåˆ—åŠ å…¥æ­¤å·¥å…·çš„é€£çµï¼Œè®“ä½¿ç”¨è€…èƒ½è¼•é¬†æ‰¾åˆ°ï¼
